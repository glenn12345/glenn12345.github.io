<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-03-15T09:59:48.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Yii-froeach</title>
    <link href="http://yoursite.com/2017/03/15/Yii-froeach/"/>
    <id>http://yoursite.com/2017/03/15/Yii-froeach/</id>
    <published>2017-03-15T09:54:44.000Z</published>
    <updated>2017-03-15T09:59:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关于foreach循环的数据只能新增1条问题"><a href="#关于foreach循环的数据只能新增1条问题" class="headerlink" title="关于foreach循环的数据只能新增1条问题"></a>关于foreach循环的数据只能新增1条问题</h2><h3 id="解决方案1"><a href="#解决方案1" class="headerlink" title="解决方案1"></a>解决方案1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$model = new User();</div><div class="line">foreach($data as $attributes)</div><div class="line">&#123;</div><div class="line">     $_model = clone $model;</div><div class="line">     $_model-&gt;setAttributes($attributes);</div><div class="line">     $_model-&gt;save();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="解决方案2"><a href="#解决方案2" class="headerlink" title="解决方案2"></a>解决方案2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$model = new User();</div><div class="line">foreach($data as $attributes)</div><div class="line">&#123;</div><div class="line">      $model-&gt;isNewRecord = true;</div><div class="line">      $model-&gt;setAttributes($attributes);</div><div class="line">      $model-&gt;save() &amp;&amp; $model-&gt;id=0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">### 方法三</div></pre></td></tr></table></figure>
<p>如果你不想这么写还有第三种方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$rows[] = [ </div><div class="line">&apos;title&apos; =&gt; $model-&gt;title, </div><div class="line">&apos;content&apos; =&gt; $model-&gt;content, </div><div class="line">]; </div><div class="line">Yii::$app-&gt;db-&gt;createCommand()-&gt;batchInsert(Post::tableName(), [&apos;title&apos;, &apos;content&apos;], $rows)-&gt;execute();</div></pre></td></tr></table></figure></p>
<h3 id="关于yii2查询的时候-andwhere和andFilterWhere的区别"><a href="#关于yii2查询的时候-andwhere和andFilterWhere的区别" class="headerlink" title="关于yii2查询的时候 andwhere和andFilterWhere的区别"></a>关于yii2查询的时候 andwhere和andFilterWhere的区别</h3><p>有时候我们查询状态为0的数据，这个时候如果不注意这两者的区别用了andFilterWhere这个来查询结果得不到你想要的结果<br>因为andFilterWhere会筛洗掉0货null的条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//在yii中获取数组中的某个值最好用内置的</div><div class="line">ArrayHelper::getValue($params, &apos;created_at_start&apos;);</div><div class="line"></div><div class="line">//如果想把二维数组合成一维数组</div><div class="line">ArrayHelper::getColumn()</div><div class="line"></div><div class="line">#### 抛出异常</div><div class="line">throw new NotFoundHttpException()</div><div class="line"></div><div class="line">#### 获取异常类</div><div class="line">Yii::$app-&gt;errorHandler-&gt;exception</div><div class="line"></div><div class="line">#### 获取异常信息</div><div class="line">Yii::$app-&gt;errorHandler-&gt;exception-&gt;getMessage(),</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;关于foreach循环的数据只能新增1条问题&quot;&gt;&lt;a href=&quot;#关于foreach循环的数据只能新增1条问题&quot; class=&quot;headerlink&quot; title=&quot;关于foreach循环的数据只能新增1条问题&quot;&gt;&lt;/a&gt;关于foreach循环的数据只能新增1条
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hello</title>
    <link href="http://yoursite.com/2017/03/15/hello/"/>
    <id>http://yoursite.com/2017/03/15/hello/</id>
    <published>2017-03-15T08:47:19.000Z</published>
    <updated>2017-03-15T08:48:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="你好"><a href="#你好" class="headerlink" title="你好"></a>你好</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;你好&quot;&gt;&lt;a href=&quot;#你好&quot; class=&quot;headerlink&quot; title=&quot;你好&quot;&gt;&lt;/a&gt;你好&lt;/h2&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
